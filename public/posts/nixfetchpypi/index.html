

<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

 


      <title>Nix fetchPypi - Coosis&#39;s Blog</title>

  <meta name="description" content="Seriously, nix doc is so hard to find&hellip;">
  <meta name="author" content="Coosis"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "",
    
    "url": "http:\/\/localhost:1313\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "http:\/\/localhost:1313\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "http:\/\/localhost:1313\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "http:\/\/localhost:1313\/posts\/nixfetchpypi\/",
          "name": "Nix fetch pypi"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Coosis"
  },
  "headline": "Nix fetchPypi",
  "description" : "Seriously, nix doc is so hard to find\u0026hellip;\n",
  "inLanguage" : "en",
  "wordCount":  625 ,
  "datePublished" : "2024-12-12T00:19:41\u002b08:00",
  "dateModified" : "2024-12-12T00:19:41\u002b08:00",
  "image" : "http:\/\/localhost:1313\/img\/ClearHead2.ico",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "http:\/\/localhost:1313\/posts\/nixfetchpypi\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "http:\/\/localhost:1313\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "http:\/\/localhost:1313\/img\/ClearHead2.ico",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>


<meta property="og:title" content="Nix fetchPypi" />
<meta property="og:description" content="Seriously, nix doc is so hard to find&hellip;">
<meta property="og:image" content="http://localhost:1313/img/ClearHead2.ico" />
<meta property="og:url" content="http://localhost:1313/posts/nixfetchpypi/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="" />

  <meta name="twitter:title" content="Nix fetchPypi" />
  <meta name="twitter:description" content="Seriously, nix doc is so hard to find&hellip;">
  <meta name="twitter:image" content="http://localhost:1313/img/ClearHead2.ico" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@CoosisV" />
  <meta name="twitter:creator" content="@CoosisV" />
  <link href='http://localhost:1313/img/ClearHead2.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.136.5">
  <link rel="alternate" href="http://localhost:1313/index.xml" type="application/rss+xml" title=""><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css" integrity="sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.6.0/css/all.css" integrity="sha384-h/hnnw1Bi4nbpD6kE7nYfCXzovi622sY5WBxww8ARKwpdLj5kUWjRuyiXaD1U2JT" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous"><link rel="stylesheet" href="http://localhost:1313/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="http://localhost:1313/css/highlight.min.css" /><link rel="stylesheet" href="http://localhost:1313/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">

  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://localhost:1313/"></a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/">Blog</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/page/about/">About</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="/tags">Tags</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="" href="http://localhost:1313/">
            <img class="avatar-img" src="http://localhost:1313/img/ClearHead2.ico" alt="" />
           
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="posts-heading">
              
                <h1>Nix fetchPypi</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>Seriously, nix doc is so hard to find&hellip;</p>
<p>I needed to fetch specific versions of python packages, and after searching, they told me to use <code>fetchPypi</code>. But I just couldn&rsquo;t find any documentation about what it ACTUALLLY is. So I had to dig inside <a href="https://github.com/NixOS/nixpkgs">nixpkgs</a> to figure what exactly is going on.</p>
<h1 id="fetchpypi">fetchPypi</h1>
<p>So here&rsquo;s the source for those who are not patient enough:
<a href="https://github.com/NixOS/nixpkgs/blob/master/pkgs/build-support/fetchpypi/default.nix">fetchPypi</a>.
Here&rsquo;s what&rsquo;s inside(I literally copy pasted it):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#75715e"># `fetchPypi` function for fetching artifacts from PyPI.</span>
</span></span><span style="display:flex;"><span>{ fetchurl
</span></span><span style="display:flex;"><span><span style="color:#f92672">,</span> makeOverridable
</span></span><span style="display:flex;"><span>}:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span>
</span></span><span style="display:flex;"><span>  computeUrl <span style="color:#f92672">=</span> {format <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;setuptools&#34;</span><span style="color:#f92672">,</span> <span style="color:#f92672">...</span> } <span style="color:#f92672">@</span>attrs: <span style="color:#66d9ef">let</span>
</span></span><span style="display:flex;"><span>    computeWheelUrl <span style="color:#f92672">=</span> {pname<span style="color:#f92672">,</span> version<span style="color:#f92672">,</span> dist <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;py2.py3&#34;</span><span style="color:#f92672">,</span> python <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;py2.py3&#34;</span><span style="color:#f92672">,</span> abi <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;none&#34;</span><span style="color:#f92672">,</span> platform <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;any&#34;</span>}:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Fetch a wheel. By default we fetch an universal wheel.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># See https://www.python.org/dev/peps/pep-0427/#file-name-convention for details regarding the optional arguments.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://files.pythonhosted.org/packages/</span><span style="color:#e6db74">${</span>dist<span style="color:#e6db74">}</span><span style="color:#e6db74">/</span><span style="color:#e6db74">${</span>builtins<span style="color:#f92672">.</span>substring <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> pname<span style="color:#e6db74">}</span><span style="color:#e6db74">/</span><span style="color:#e6db74">${</span>pname<span style="color:#e6db74">}</span><span style="color:#e6db74">/</span><span style="color:#e6db74">${</span>pname<span style="color:#e6db74">}</span><span style="color:#e6db74">-</span><span style="color:#e6db74">${</span>version<span style="color:#e6db74">}</span><span style="color:#e6db74">-</span><span style="color:#e6db74">${</span>python<span style="color:#e6db74">}</span><span style="color:#e6db74">-</span><span style="color:#e6db74">${</span>abi<span style="color:#e6db74">}</span><span style="color:#e6db74">-</span><span style="color:#e6db74">${</span>platform<span style="color:#e6db74">}</span><span style="color:#e6db74">.whl&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    computeSourceUrl <span style="color:#f92672">=</span> {pname<span style="color:#f92672">,</span> version<span style="color:#f92672">,</span> extension <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;tar.gz&#34;</span>}:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Fetch a source tarball.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;mirror://pypi/</span><span style="color:#e6db74">${</span>builtins<span style="color:#f92672">.</span>substring <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> pname<span style="color:#e6db74">}</span><span style="color:#e6db74">/</span><span style="color:#e6db74">${</span>pname<span style="color:#e6db74">}</span><span style="color:#e6db74">/</span><span style="color:#e6db74">${</span>pname<span style="color:#e6db74">}</span><span style="color:#e6db74">-</span><span style="color:#e6db74">${</span>version<span style="color:#e6db74">}</span><span style="color:#e6db74">.</span><span style="color:#e6db74">${</span>extension<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    compute <span style="color:#f92672">=</span> (<span style="color:#66d9ef">if</span> format <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;wheel&#34;</span> <span style="color:#66d9ef">then</span> computeWheelUrl
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> format <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;setuptools&#34;</span> <span style="color:#66d9ef">then</span> computeSourceUrl
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">else</span> <span style="color:#a6e22e">throw</span> <span style="color:#e6db74">&#34;Unsupported format </span><span style="color:#e6db74">${</span>format<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">in</span> compute (builtins<span style="color:#f92672">.</span>removeAttrs attrs [<span style="color:#e6db74">&#34;format&#34;</span>]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">in</span> makeOverridable( {format <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;setuptools&#34;</span><span style="color:#f92672">,</span> sha256 <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">,</span> hash <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">,</span> <span style="color:#f92672">...</span> } <span style="color:#f92672">@</span>attrs:
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">let</span>
</span></span><span style="display:flex;"><span>    url <span style="color:#f92672">=</span> computeUrl (builtins<span style="color:#f92672">.</span>removeAttrs attrs [<span style="color:#e6db74">&#34;sha256&#34;</span> <span style="color:#e6db74">&#34;hash&#34;</span>]) ;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">in</span> fetchurl {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">inherit</span> url sha256 hash;
</span></span><span style="display:flex;"><span>  })
</span></span></code></pre></div><p>Great, now let&rsquo;s read it a bit and figure out what&rsquo;s going on.</p>
<h1 id="makeoverridable">makeOverridable</h1>
<p>You&rsquo;ll see <code>makeOverridable</code> at the end, here&rsquo;s its signature(<a href="https://github.com/NixOS/nixpkgs/blob/204afb3d25f51a296b5d4c0ae9d39d5c1e9bdee2/lib/customisation.nix#L93">link</a>):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>makeOverridable :: (AttrSet <span style="color:#f92672">-&gt;</span> a) <span style="color:#f92672">-&gt;</span> AttrSet <span style="color:#f92672">-&gt;</span> a
</span></span></code></pre></div><p>There&rsquo;s also examples in the link, but basically here&rsquo;s what happens:
It takes a function, that takes an attribute set and returns a value, and an attribute set as arguments. It then returns the result attribute set with the argument attribute set used as the argument for the function.
You can choose to override the argument attribute set by using <code>.override { key = val; }</code> syntax. If you don&rsquo;t, the default value will be used.</p>
<p>Here&rsquo;s an example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  f <span style="color:#f92672">=</span> { a<span style="color:#f92672">,</span> b }: { result <span style="color:#f92672">=</span> a<span style="color:#f92672">+</span>b; };
</span></span><span style="display:flex;"><span>  c <span style="color:#f92672">=</span> lib<span style="color:#f92672">.</span>makeOverridable f { a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; b <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>; };
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>In this example the value of
<code>(c.override { a = 4; }).result</code> is 6.</p>
<h1 id="arguments-for-fetchpypi">arguments for fetchPypi</h1>
<p>Okay, you want a python package. You know where it is on pypi, you want the derivation for it. <code>fetchPypi</code> can do it.
Its signature:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>fetchPypi :: AttrSet <span style="color:#f92672">-&gt;</span> Derivation
</span></span></code></pre></div><p>It needs:</p>
<ul>
<li><code>pname</code>: package name</li>
<li><code>version</code>: version of the package</li>
<li><code>format</code>: (optional) &ldquo;wheel&rdquo; or &ldquo;setuptools&rdquo;. Default is &ldquo;setuptools&rdquo;. &ldquo;setuptools&rdquo; just means source.</li>
<li><code>sha256</code>: sha256 hash of the file.</li>
<li><code>hash</code>: hash of the file.
Really that&rsquo;s all it needs. Here&rsquo;s what it does with your inputs:</li>
</ul>
<h2 id="for-wheels">for wheels:</h2>
<p>First it constructs a url like this:</p>
<pre tabindex="0"><code>https://files.pythonhosted.org/packages/${dist}/${builtins.substring 0 1 pname}/${pname}/${pname}-${version}-${python}-${abi}-${platform}.whl&#34;;
</code></pre><p>The following arguments are customizable, just put it in the attribute set:</p>
<ul>
<li><code>dist</code>: &ldquo;py2.py3&rdquo; by default</li>
<li><code>python</code>: &ldquo;py2.py3&rdquo; by default</li>
<li><code>abi</code>: &ldquo;none&rdquo; by default</li>
<li><code>platform</code>: &ldquo;any&rdquo; by default</li>
</ul>
<p>Example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>fetchPypi {
</span></span><span style="display:flex;"><span>  pname <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;xxx&#34;</span>;
</span></span><span style="display:flex;"><span>  version <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;y.zz&#34;</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># sha256 and hash are just passed to `fetchurl`. If I&#39;m not mistaken, sha256 is legacy, </span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># and using hash is sufficient.</span>
</span></span><span style="display:flex;"><span>  sha256 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;somehash&#34;</span>;
</span></span><span style="display:flex;"><span>  hash <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;somehash&#34;</span>;
</span></span><span style="display:flex;"><span>  format <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;wheel&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># rest are optional</span>
</span></span><span style="display:flex;"><span>  dist <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;somedist&#34;</span>;
</span></span><span style="display:flex;"><span>  python <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;somepython&#34;</span>;
</span></span><span style="display:flex;"><span>  abi <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;someabi&#34;</span>;
</span></span><span style="display:flex;"><span>  platform <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;someplatform&#34;</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>And it calls <code>fetchurl</code>, and return the derivation.</p>
<h2 id="for-source">for source:</h2>
<p>It constructs a url like this:</p>
<pre tabindex="0"><code>mirror://pypi/${builtins.substring 0 1 pname}/${pname}/${pname}-${version}.${extension}&#34;;
</code></pre><p>The following arguments are customizable, just put it in the attribute set:</p>
<ul>
<li><code>extension</code>: &ldquo;tar.gz&rdquo; by default</li>
</ul>
<p>Example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>fetchPypi {
</span></span><span style="display:flex;"><span>  pname <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;xxx&#34;</span>;
</span></span><span style="display:flex;"><span>  version <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;y.zz&#34;</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># sha256 and hash are just passed to `fetchurl`. If I&#39;m not mistaken, sha256 is legacy, </span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># and using hash is sufficient.</span>
</span></span><span style="display:flex;"><span>  sha256 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;somehash&#34;</span>;
</span></span><span style="display:flex;"><span>  hash <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;somehash&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># rest are optional</span>
</span></span><span style="display:flex;"><span>  format <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;setuptools&#34;</span>;
</span></span><span style="display:flex;"><span>  extension <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;someextension&#34;</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>And it calls <code>fetchurl</code>, and return the derivation.</p>

        

        
            <hr/>
            <section id="social-share">
              <div class="list-inline footer-links">
                

<div class="share-box" aria-hidden="true">
    <ul class="share">
      
      <li>
        <a href="//twitter.com/share?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fnixfetchpypi%2f&amp;text=Nix%20fetchPypi&amp;via=CoosisV" target="_blank" title="Share on Twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fnixfetchpypi%2f" target="_blank" title="Share on Facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fnixfetchpypi%2f&amp;title=Nix%20fetchPypi" target="_blank" title="Share on Reddit">
          <i class="fab fa-reddit"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.linkedin.com/shareArticle?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fnixfetchpypi%2f&amp;title=Nix%20fetchPypi" target="_blank" title="Share on LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.stumbleupon.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fnixfetchpypi%2f&amp;title=Nix%20fetchPypi" target="_blank" title="Share on StumbleUpon">
          <i class="fab fa-stumbleupon"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.pinterest.com/pin/create/button/?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fnixfetchpypi%2f&amp;description=Nix%20fetchPypi" target="_blank" title="Share on Pinterest">
          <i class="fab fa-pinterest"></i>
        </a>
      </li>
    </ul>
  </div>
  

              </div>
            </section>
        

        
          

          
        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="http://localhost:1313/posts/adventofcoderegex/" data-toggle="tooltip" data-placement="top" title="I did Advent of Code using neovim">&larr; Previous Post</a>
            </li>
          
          
        </ul>
      


      

    </div>
  </div>
</div>

      <footer>
  <div class="container">
    
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
		
		  <a href="mailto:coosislee@gmail.com" title="Email me">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://github.com/Coosis" title="GitHub">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://twitter.com/CoosisV" title="Twitter">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-x-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://telegram.me/Coosis" title="Telegram">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-telegram fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="https://coosis.github.io/">Coosis</a>
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2024
          

          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.136.5</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js" integrity="sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
<script src="https://code.jquery.com/jquery-3.7.0.slim.min.js" integrity="sha384-w5y/xIeYixWvfM+A1cEbmHPURnvyqmVg5eVENruEdDjcyRLUSNej7512JQGspFUr" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>

<script src="http://localhost:1313/js/main.js"></script>
<script src="http://localhost:1313/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="http://localhost:1313/js/load-photoswipe.js"></script>










    
  </body>
</html>

